<div class="registerForm">
    <h2>Register</h2>
    
    <form #f="ngForm" [formGroup]="registerForm" (ngSubmit)="register(f)">
        <div>
            <label>Username:</label>
            <input type="text" formControlName="username" name="username"/><br>
            <small *ngIf="registerForm.controls.username.value && registerForm.controls['username'].errors != null" style="color: red;">Username must have at least 4 characters.</small>
        </div>
        <div>
            <label>Password:</label>
            <input type="password" formControlName="password" name="password"/>
        </div>
        <div>
            <label>Confirm password:</label>
            <input type="password" formControlName="confirmPassword" name="confirmPassword" />
            @if (registerForm.get('confirmPassword')?.hasError('notSame')) {
            <br><small style="color: red;">Passwords do not match</small>
            }
             <!-- <small *ngIf="registerForm.controls['confirmPassword'].errors != null" style="color: red;">Password isnt the same</small> -->
            <!-- <small *ngIf="registerForm.controls['password'].errors != null">You have samo error</small> -->
        </div>
       <!--  @if (registerForm.controls['password'].errors!['required']) {
            <small>You have error</small>
        } -->
        <div>
            <label>Name:</label>
            <input type="text" formControlName="name" name="name" required/>
        </div>
        <div>
            <label>Email:</label>
            <input type="text" formControlName="email" name="email" required/>
            @if (registerForm.get('email')?.hasError('email')){
                <small style="color: red;">Email is not correct</small>
            }
        </div>
         <small *ngIf="!registerForm.valid" style="color: red;">You should fill in all the fields</small>
        <button type="submit" [disabled]="!registerForm.valid">Register!</button>
    </form>
    <button type="button" (click)="router.navigateByUrl('/login')">Back</button>
</div>
